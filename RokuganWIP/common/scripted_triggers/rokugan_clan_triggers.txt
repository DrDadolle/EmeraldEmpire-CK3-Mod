######################
# Major/Minor Clan Definition
######################
# Function to know when someone is under the emperor's reign
is_under_e_rokugan_rule = {
    AND = {
        is_independent_ruler = no
        #liege is rokugani emperor
        top_liege = { primary_title = title:e_rokugan }
    }
}

# Is from samurai culture
is_from_samurai_culture = {
        culture = { has_cultural_tradition = tradition_bushido }
}

# Hard-coded for now. Maybe it'll be a special flag on a title later ?
is_imperial_family = {
    OR = {
        dynasty = dynasty:2100031 #Hantei
        dynasty = dynasty:2100032 #Otomo
        dynasty = dynasty:2100033 #Seppun
        dynasty = dynasty:2100034 # Miya
    }
}


# One of the lieges should be a pure king. And is Feudal
is_major_clan = {
    is_independent_ruler = no
    OR = {
        any_liege_or_above = {
            government_has_flag = government_is_feudal
            highest_held_title_tier = tier_kingdom
            # and is human & and is rokugani
        }
        AND = {
            government_has_flag = government_is_feudal
            highest_held_title_tier = tier_kingdom
            # and is human & and is rokugani
        }
    }
}

# All liege above dont have a highest held title a kingdom. And is Feudal.
is_minor_clan = {
    is_independent_ruler = no
    AND = {
        government_has_flag = government_is_feudal
        liege = {
            government_has_flag = government_is_feudal
            NOT = {
                highest_held_title_tier = tier_kingdom
                # and is human & and is rokugani
            }
            liege = {
                government_has_flag = government_is_feudal
                NOT = {
                    highest_held_title_tier = tier_kingdom
                    # and is human & and is rokugani
                }
            }
        }
        NOT = {
             highest_held_title_tier = tier_kingdom

             # and is human & and is rokugani
        }
    }
}


######################
# Clan Definition
######################



